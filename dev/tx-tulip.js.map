{"version":3,"sources":["webpack://TX_TULIP/webpack/universalModuleDefinition","webpack://TX_TULIP/webpack/bootstrap","webpack://TX_TULIP/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://TX_TULIP/./src/compiler.js","webpack://TX_TULIP/./src/generator.js","webpack://TX_TULIP/./src/lexer.js","webpack://TX_TULIP/./src/syntactic.js","webpack://TX_TULIP/./src/token.js"],"names":["compiler","str","obj","tokens","ast","output","generator","undefined","result","isEmptyObj","Object","prototype","toString","call","map","o","key","BRACE_L","TOKENS","BRACE_R","SQUARE_L","SQUARE_R","MAX_LENGTH","lexer","length","toks","tmp","label","i","charAt","push","plainObject","_","create","syntactic","AST","pToken","token","shift"],"mappings":"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","file":"tx-tulip.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TX_TULIP\"] = factory();\n\telse\n\t\troot[\"TX_TULIP\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dev/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","import lexer from './lexer'\r\nimport syntactic from './syntactic'\r\nimport generator from './generator'\r\n\r\nexport default function compiler(str, obj) {\r\n    const tokens = lexer(str)\r\n    const ast = syntactic(tokens)\r\n    const output = generator(ast, obj)\r\n    return output\r\n}\r\n","/**\r\n * @description extract propterties specified from a json Object using AST\r\n * @param {object} ast  ast should be plain object\r\n * @param {object} obj  obj should be a json object\r\n */\r\nexport default function generator(ast, obj) {\r\n    if (obj === undefined || obj === null) return obj\r\n    let result = {}\r\n    let isEmptyObj = true\r\n    if (Object.prototype.toString.call(obj) === '[object Array]') {\r\n        return obj.map(o => generator(ast, o))\r\n    } else {\r\n        for (let key in ast) {\r\n            isEmptyObj = false\r\n            result[key] = generator(ast[key], obj[key])\r\n        }\r\n    }\r\n    if (isEmptyObj) {\r\n        result = obj\r\n    }\r\n    return result\r\n}\r\n","import TOKENS from './token'\r\nconst { BRACE_L, BRACE_R, SQUARE_L, SQUARE_R } = TOKENS\r\nconst MAX_LENGTH = 2048\r\n/**\r\n * @description tokenize the string\r\n * @param {string} str\r\n */\r\nexport default function lexer(str) {\r\n    const length = str.length\r\n    /** limit str lenght and filter the content */\r\n    if (length > MAX_LENGTH) return {}\r\n    // str = str.replace(/[^\\w\\s{}\\[\\]]/gi, '')\r\n    const toks = []\r\n    let tmp\r\n    let label = ''\r\n    for (let i = 0; i < length; i++) {\r\n        tmp = str.charAt(i)\r\n        switch (tmp) {\r\n            case '\\r':\r\n                continue\r\n            case '\\n':\r\n            case '\\t':\r\n            case ' ':\r\n            case SQUARE_L:\r\n            case SQUARE_R:\r\n            case BRACE_L:\r\n            case BRACE_R:\r\n                if (label) {\r\n                    toks.push(label)\r\n                    label = ''\r\n                }\r\n                if (tmp === BRACE_L || tmp === SQUARE_L) toks.push(BRACE_L)\r\n                if (tmp === BRACE_R || tmp === SQUARE_R) toks.push(BRACE_R)\r\n                break\r\n            default:\r\n                label += tmp\r\n        }\r\n    }\r\n    return toks\r\n}\r\n","import TOKENS from './token'\r\nconst { BRACE_L, BRACE_R, SQUARE_L, SQUARE_R } = TOKENS\r\n\r\nconst plainObject = _ => (Object.create ? Object.create(null) : {})\r\n/**\r\n * @description get A AST from tokens array\r\n * @param {array} tokens\r\n */\r\nexport default function syntactic(tokens) {\r\n    let AST = plainObject()\r\n    let pToken = ''\r\n    let token\r\n    while ((token = tokens.shift())) {\r\n        switch (token) {\r\n            case BRACE_L:\r\n                if (!pToken) AST = syntactic(tokens)\r\n                else AST[pToken] = syntactic(tokens)\r\n                break\r\n            case BRACE_R:\r\n                pToken = ''\r\n                return AST\r\n            default:\r\n                pToken = token\r\n                AST[token] = plainObject()\r\n        }\r\n    }\r\n    return AST\r\n}\r\n","export default {\r\n    BRACE_L: '{',\r\n    BRACE_R: '}',\r\n    SQUARE_L: '[',\r\n    SQUARE_R: ']'\r\n}\r\n"],"sourceRoot":""}